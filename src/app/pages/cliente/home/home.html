<!-- Botón para abrir sidebar en móvil -->
<button class="sidebar-toggle" (click)="toggleSidebar()" aria-label="Abrir menú">
  <i class="fas fa-bars"></i>
  <!-- Icono blanco -->
</button>

<!-- Sidebar -->
<div class="sidebar" [class.visible]="isVisible">
  <!-- Logo y subtítulo -->
  <div class="sidebar-logo">
    <img
      src="https://res.cloudinary.com/dehltwwbu/image/upload/f_auto,q_auto/v1756972307/StoreIt-logo-azul_cq41qg.png"
      width="200"
      height="auto"
      alt="Logo"
    />
    <p class="sidebar-subtitle">Panel del Cliente</p>
  </div>

  <!-- Menú de navegación -->
  <nav class="sidebar-menu">
    <div *ngFor="let item of menuItems">
      <!-- Botón principal -->
      <button
        (click)="item.subOpciones ? toggleSubMenu(item.nombre) : closeSidebarOnMobile()"
        [routerLink]="item.ruta"
        routerLinkActive="active"
      >
        <i [class]="item.icono"></i>
        <span>{{ item.nombre }}</span>
        <i
          *ngIf="item.subOpciones"
          class="fas fa-chevron-down sub-arrow"
          [class.open]="subMenuOpen[item.nombre]"
        ></i>
      </button>

      <!-- Submenú -->
      <div class="sidebar-submenu" *ngIf="item.subOpciones && subMenuOpen[item.nombre]">
        <button
          *ngFor="let sub of item.subOpciones"
          [routerLink]="sub.ruta"
          routerLinkActive="active"
          (click)="closeSidebarOnMobile()"
        >
          {{ sub.nombre }}
        </button>
      </div>
    </div>
  </nav>

  <!-- Botón salir -->
  <div class="sidebar-exit">
    <button (click)="salir()">
      <i class="fas fa-sign-out-alt"></i>
      <span>Salir</span>
    </button>
  </div>

  <!-- Footer -->
  <div class="sidebar-footer">
    <p>© 2025 Store-It</p>
  </div>
</div>

<!-- Contenido principal -->
<main class="main-content" (click)="closeSidebarOnMobile()">
  <router-outlet></router-outlet>
</main>
