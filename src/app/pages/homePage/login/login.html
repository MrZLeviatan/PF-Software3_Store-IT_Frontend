<div class="login-wrapper">
  <!-- Logo arriba izquierda -->
  <div class="logo-container" (click)="irInicio()" style="cursor: pointer">
    <img
      src="https://res.cloudinary.com/dehltwwbu/image/upload/f_auto,q_auto/v1756972307/StoreIt-logo-azul_cq41qg.png"
      alt="Logo"
    />
  </div>

  <!-- Lado izquierdo con imagen -->
  <div class="login-image">
    <img
      src="https://res.cloudinary.com/dehltwwbu/image/upload/f_auto,q_auto/v1757145314/logoLogin_m9qazj.png"
      alt="Imagen de inicio de sesi贸n"
    />
  </div>

  <!-- Lado derecho con formulario -->
  <div class="login-form-container">
    <h2>Bienvenido a Store-IT!</h2>
    <p class="login-subtitle">Inicia sesi贸n en tu cuenta</p>

    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <!-- Email -->
      <div class="form-group floating-label">
        <input
          type="email"
          id="email"
          placeholder=" "
          formControlName="email"
          [class.invalid]="isInvalid('email')"
        />
        <label for="email">Correo Electr贸nico</label>
        <div *ngIf="isInvalid('email')" class="error-icon" [title]="'Ingresa un email v谩lido'">
          <i class="fa fa-exclamation-circle"></i>
        </div>
      </div>

      <!-- Contrase帽a -->
      <div class="form-group floating-label password-group">
        <input
          [type]="mostrarPassword ? 'text' : 'password'"
          id="password"
          placeholder=" "
          formControlName="password"
          [class.invalid]="isInvalid('password')"
        />
        <label for="password">Contrase帽a</label>
        <button type="button" class="toggle-btn" (click)="togglePassword()">
          <i [ngClass]="mostrarPassword ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
        </button>
        <div
          *ngIf="isInvalid('password')"
          class="error-icon"
          [title]="'La contrase帽a es obligatoria'"
        >
          <i class="fa fa-exclamation-circle"></i>
        </div>
      </div>

      <!-- Bot贸n login -->
      <div class="form-group">
        <button type="submit" [disabled]="loginForm.invalid" class="submit-btn">
          Iniciar sesi贸n
        </button>
      </div>
    </form>

    <!-- Separador social -->

    <!-- Separador "o contin煤a con" -->
    <div class="social-separator">
      <span>o contin煤a con</span>
    </div>

    <!-- Bot贸n Google -->
    <div class="social-buttons">
      <!-- Aqu铆 Google renderiza el bot贸n -->
      <div id="googleBtn"></div>
    </div>

    <!-- Link de contacto / registro -->
    <p class="register-link">驴No tienes una cuenta? <a href="/registroClientes"> Reg铆strate</a></p>
  </div>

  <!--  Overlay de verificaci贸n -->
  <div class="overlay" *ngIf="mostrarVerificacion">
    <div class="verificacion-modal">
      <h3>Autentificaci贸n de Inicio de Sesi贸n</h3>
      <p>
        Hemos enviado un c贸digo de autentificaci贸n al correo
        <strong>{{ emailVerificacion }}</strong
        >.
      </p>

      <form [formGroup]="formCodigo" (ngSubmit)="confirmarVerificacion()">
        <div class="form-group">
          <input
            type="text"
            formControlName="codigo"
            maxlength="6"
            class="codigo-input"
            placeholder="------"
            (input)="forzarMayusculas($event)"
          />
        </div>

        <div class="modal-buttons">
          <button type="submit" class="submit-btn">Confirmar</button>
          <button type="button" (click)="cancelarVerificacion()" class="cancel-btn">
            Cancelar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
